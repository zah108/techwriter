# Спецификация Weather and Geolocation API

**Перечень принятых сокращений и определений**
| **Сокращения** | **Определения** |
| --- | --- |
| API | Application programming interface — прикладнойпрограммныйинтерфейс. Контракт, который позволяет программным компонентам взаимодействовать друг с другом, используя структурированные запросы и ответы. |
| IP-адрес | Internet Protocol. Цифровой идентификатор, присваиваемый устройству, которое работает в условиях публичной или локальной сети на основе стека протоколов TCP/IP. |
| JSON | JavaScriptObjectNotation — текстовый формат обмена данными, основанный на JavaScript. Представляют собой набор пар ключ-значение. |
| URL | UniformResourceLocator. Адрес, выданный уникальному ресурсу в интернете. |
| XML | eXtensible Markup Language — расширяемыйязыкразметки. Используется для хранения и передачи данных. |

# Введение

WeatherAPI.com предоставляет доступ к погодным и географическим данным через JSON/XML restful API. Это позволяет разработчикам легко создавать настольные, веб и мобильные приложения, используя эти данные. Набор предоставляемых данных зависит от вашего тарифного плана, есть бесплатный тарифный план.

Мы предоставляем следующие данные через наш API:

- Погода в реальном времени;
- Прогноз погоды на 14 дней;
- Историческая погода;
- Морская погода и данные о приливах и отливах;
- Будущая погода (до 300 дней вперед);
- Ежедневные и ежечасные интервалы;
- 15-минутный интервал;
- Астрономия;
- Часовой пояс;
- Спорт;
- Данные о местоположении;
- API для поиска или автозаполнения;
- Оповещения о погоде;
- Данные о качестве воздуха.

## Начало работы
Зарегистрируйтесть для получения своего API-ключа и начала использования API.
```
https://www.weatherapi.com/signup.aspx
```
Попробуйте наш погодный API с помощью интерактивного API Explorer или используйте Swagger Tool.
```
https://www.weatherapi.com/api-explorer.aspx
https://app.swaggerhub.com/apis-docs/WeatherAPI.com/WeatherAPI/1.0.2
```
Для популярных фреймворков и языков у нас есть SDK, доступные на Github.
```
https://github.com/weatherapicom/
```
Для выбора поля погоды, возвращаемого в ответе API, измените его в полях ответа.
```
https://www.weatherapi.com/login.aspx
```
Если вам не хватает каких-то функций или у вас есть предложения, пожалуйста, свяжитесь с нами.
```
https://www.weatherapi.com/contact.aspx
```
## Аутентификация
Доступ к данным API защищен ключом API. Если вы обнаружите, что ключ API стал уязвимым, пожалуйста, перегенерируйте ключ, используя кнопку «Regenerate» рядом с ключом API.
Аутентификация в API WeatherAPI.com осуществляется путем передачи вашего API-ключа в качестве параметра запроса через API.

### Параметр ключа
Параметр ключа указывается в следующем формате:
```
key=\<YOUR API KEY\>
```

## Запрос
### URL-адрес запроса
Запрос к API WeatherAPI.com состоит из базового URL и метода API. Вы можете делать как HTTP и HTTPS запросs к нашему API.
Базовый URL:
```
http://api.weatherapi.com/v1
```
| **API** | **Метод API** |
| --- | --- |
| Текущая погода | /current.json или /current.xml |
| Прогноз | /forecast.json или /forecast.xml |
| Поиск или автозаполнение | /search.json или /search.xml |
| История | /history.json или /history.xml |
| Морской | /marine.json или /marine.xml |
| Будущее | /future.json или /future.xml |
| Часовой пояс | /timezone.json или /timezone.xml |
| Спорт | /sports.json или /sports.xml |
| Астрономия | /astronomy.json или /astronomy.xml |
| Поиск IP-адресов | /ip.json или /ip.xml |

### Параметры запроса
**Список параметров запроса**
| **Параметр** | **Тип** | **Описание** |
| --- | --- | --- |
| key | Обязательный | API ключ |
| q | Обязательный | Описание приведено в таблице «Описание параметра запроса q». |
| days | Обязательный только при использовании метода API прогнозирования | Необходимое количество дней прогноза. Значение параметра days может варьироваться от 1 до 14. Например, days=5. Если параметр days не указан, то возвращается только сегодняшняя погода. |
| dt | Обязательный для History и Future API | Ограничение вывода даты для метода API Forecast и History. Для History API значение dt должно быть позже 1 января 2010 года в формате yyyy-MM-dd. Например, dt=2010-01-01).Для Forecast API значение dt должно быть между сегодняшним и следующими 14 днями в формате yyyy-MM-dd.Для Future API значение dt должно быть между 14 днями и 300 днями от сегодняшнего дня в будущем в формате yyyy-MM-dd. |
| unixdt | Необязательный | UnixTimestamp, используется для методов APIForecast и History.Параметр unixdt имеет те же ограничения, что и параметр dt. Пожалуйста, передавайте только один из параметров, либо dt, либо unixdt, но не оба параметра в одном запросе. Например, unixdt=1490227200. |
| end\_dt | Необязательный | Доступно для History API. Для History API значение параметра end\_dt должно быть позднее 1 января 2010 года в формате yyyy-MM-dd. Например, dt=2010-01-01.Значение параметра end\_dt должно быть больше значения параметра dt, а разница между этими двумя параметрами не должна превышать 30 дней.Работает только для API на тарифном плане Pro и выше. |
| unixend\_dt | Необязательный | UnixTimestamp, используется для метода HistoryAPI. Параметр unixend\_dt имеет те же ограничения, что и параметр «end\_dt». Пожалуйста, передавайте только один из параметров, либо end\_dt, либо unixend\_dt, но не оба параметра в одном запросе. Например, unixend\_dt=1490227200. |
| hour | Необязательный | Ограничение вывода прогноза или истории определенным часом в данный день.Должно быть указано в формате 24 часа. Например, 5 часов вечера указывается как hour=17, 6 часов утра указывается как hour=6. |
| alerts | Необязательный | Отключение оповещений в выходных данных API прогноза. Например, alerts=yes или alerts=no. |
| aqi | Необязательный | Включение или выключение данных о качестве воздуха в выходных данных API прогноза. Например, aqi=yes или aqi=no. |
| tides | Необязательный | Включение или выключение данных о приливах и отливах в выводе морского API. Например, tides=yes или tides=no. |
| tp | Необязательный | Получение данных с интервалом 15 минут для API прогноза и истории. Доступно только для корпоративных клиентов. |
| lang | Необязательный | Возвращает condition:text поле в API на желаемом языке. Значение кода языка приведено в таблице «Код языка». |

**Описание параметра запроса «q»**

| **Описание параметра** | **Пример** |
| --- | --- |
| Широта и долгота (десятичные градусы) | q=48.8567,2.3508 |
| Название города | q=Париж |
| Почтовый индекс США | q=10001 |
| Почтовый индекс Великобритании | q=SW1 |
| Почтовый индекс Канады | q=G2J |
| metar: \<метарный код\> | q=metar:EGLL |
| iata: \<3-значный код аэропорта\> | q=iata:DXB |
| auto:ip поиск IP-адреса | q=auto:ip |
| IP-адрес (поддерживаются IPv4 и IPv6) | q=100.0.0.1 |
| По идентификатору, полученному из поискового API. | q=id:2801268 |


**Код языка**
| **Язык** | **Код языка** |
| --- | --- |
| Арабский | ar |
| Бенгальский | bn |
| Болгарский | bg |
| Китайский упрощенный | zh |
| Китайский традиционный | zh\_tw |
| Чешский | cs |
| Датский | da |
| Голландский | nl |
| Финский | fi |
| Французский | Fr |
| Немецкий | de |
| Греческий | el |
| Хинди | hi |
| Венгерский | hu |
| Итальянский | it |
| Японский | ja |
| Яванский | Jv |
| Корейский | ko |
| Мандаринский | zh\_cmn |
| Маратхи | mr |
| Польский | pl |
| Португальский | Pt |
| Пенджаби | pa |
| Румынский | ro |
| Русский | ru |
| Сербский | sr |
| Сингальский | si |
| Словацкий | sk |
| Испанский | es |
| Шведский | Sv |
| Тамильский | ta |
| Телугу | te |
| Турецкий | tr |
| Украинский | uk |
| Урду | ur |
| Вьетнамский | vi |
| Ву (шанхайский) | zh\_wuu |
| Сян | zh\_hsn |
| Юэ (кантонский) | zh\_yue |
| Зулу | zu |

## Местоположение объекта
Местоположение объекта возвращается с каждым ответом API. Это фактически сопоставленное местоположение, для которого была возвращена информация.
Возвращаемая информация о местоположении включает геоточки, название, регион, страну и информацию о часовом поясе.

**Поля местоположения объекта**
| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| lat | десятичный | Широта в десятичных градусах |
| lon | десятичный | Долгота в десятичных градусах |
| name | строка | Название местоположения |
| region | строка | Регион или штат местоположения, если имеется |
| country | строка | Страна местоположения |
| tz_id | строка | Имя часового пояса |
| localtime\_epoch | целое | Местная дата и время в формате unix epoch |
| localtime | строка | Локальная дата и время |

## Оповещения о погоде
Forecast API возвращает оповещения и предупреждения, выпущенные правительственными агентствами (США, Великобритания, Европа и остальной мир), в виде массива, если они доступны для местоположения, указанного через Forecast API.

По умолчанию оповещения не возвращаются. Чтобы вернуть оповещения в ответ от Forecast API, передайте параметр alerts=yes.
Примечание: Некоторые из оповещений могут быть на местном языке локации.

**Поля оповещений о погоде**
| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| headline | строка | Заголовок оповещения |
| msgType | строка | Тип оповещения |
| severity | строка | Степень строгости оповещения |
| urgency | строка | Срочность |
| areas | строка | Охватываемые области |
| category | строка | Категория |
| certainty | строка | Одозначность |
| event | строка | Событие |
| note | строка | Примечание |
| effective | дата | Дата вступления в силу |
| expires | строка | Срок действия |
| desc | строка | Описание |
| instruction | строка | Инструкция |

### Пример ответа на оповещения
![](RackMultipart20231205-1-rs1ne8_html_3c7cd7be31c22bff.jpg)

## Данные о качестве воздуха

Данные о качестве воздуха можно получить в ответах Прогнозного API и API реального времени. В зависимости от вашего плана подписки мы предоставляем текущие и 3-дневные данные о качестве воздуха для заданного местоположения в формате json и xml.

Он предоставляет данные об индексе качества воздуха по основным загрязняющим газам, таким как угарный газ (CO), озон (O3), диоксид азота (NO2), диоксид серы (SO2), PM 2.5 и PM 10.

По умолчанию данные о качестве воздуха не предоставляются. Чтобы получить данные о качестве воздуха в ответе от Прогнозного API и API реального времени, передайте параметр aqi=yes.

**Параметры качества воздуха**
| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| co | вещественное | Монооксид углерода (мкг/м3) |
| o3 | вещественное | Озон (мкг/м3) |
| no2 | вещественное | Диоксид азота (мкг/м3) |
| so2 | вещественное | Диоксид серы (мкг/м3) |
| pm2\_5 | вещественное | PM2.5 (мкг/м3) |
| pm10 | вещественное | PM10 (μg/m3) |
| us-epa-index | целое | 
EPA стандарт: <br>- 1 – хороший; <br>- 2 – умеренный; <br>- 3 - нездоровый для чувствительной группы; <br>- 4 – нездоровый; <br>- 5 – очень вредно для здоровья; <br>- 6 – опасный. |
| gb-defra-index | целое |

### Значение DEFRA индекса Великобритании

**Значения DEFRA индекса Великобритании**
| **Индекс** | **Значение** | **Значение, мкг/м3** |
| --- | --- | --- |
| 1 | Низкое | 0-11 |
| 2 | Низкое | 12-23 |
| 3 | Низкое | 24-35 |
| 4 | Умеренное | 36-41 |
| 5 | Умеренное | 42-47 |
| 6 | Умеренное | 48-53 |
| 7 | Высокое | 54-58 |
| 8 | Высокое | 59-64 |
| 9 | Высокое | 65-70 |
| 10 | Очень высокое | Более 71 |

## Коды ошибок API

При возникновении ошибки ответ API содержит сообщение об ошибке, включающее ее код. В таблице приведены ошибки для следующих кодов состояния HTTP 4xx.

**Параметры качества воздуха**

| **Код состояния HTTP** | **Код ошибки** | **Описание** |
| --- | --- | --- |
| 401 | 1002 | Не предоставлен ключ API |
| 400 | 1003 | Не предоставлен параметр «q» |
| 400 | 1005 | URL-адрес запроса API недействителен |
| 400 | 1006 | Не найдено местоположение, соответствующее параметру «q» |
| 401 | 2006 | Предоставленный ключ API недействителен |
| 403 | 2007 | API-ключ превысил месячную квоту вызовов |
| 403 | 2008 | Ключ API был отключен |
| 403 | 2009 | У ключа API нет доступа к ресурсу. Пожалуйста, проверьте на странице цен, что разрешено в вашем плане подписки на API. |
| 400 | 9000 | Json-тело, переданное в массовом запросе, недействительно. Убедитесь, что это корректный json с кодировкой utf-8. |
| 400 | 9001 | Json-тело содержит слишком много местоположений для массового запроса. Пожалуйста, не превышайте 50 значений в одном запросе. |
| 400 | 9999 | Внутренняя ошибка приложения. |

# API
## API реального времени

Метод API «Текущая погода» или «Погода реального времени» позволяет получить актуальную информацию о текущей погоде в формате json и xml. Данные возвращаются в виде CurrentObject.

CurrentObject содержит информацию о текущей погоде или погоде в реальном времени для заданного города.

**Поля API реального времени**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| last_updated | строка | Локальное время, когда данные реального времени были обновлены |
| last_updated_epoch | целое | Локальное время, когда данные реального времени были обновлены в unix epoch формате |
| temp_c | десятичное | Температура в градусах Цельсия |
| temp_f | десятичное | Температура в градусах Фаренгейта |
| feelslike_c | десятичное | Чувствуется как температура в градусах Цельсия |
| feelslike_f | десятичное | Чувствуется как температура по Фаренгейту |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Url иконки погоды |
| condition:code | целое | Уникальный код состояния погоды |
| wind_mph | десятичное | Скорость ветра в милях в час |
| wind_kph | десятичное | Скорость ветра в километрах в час |
| wind_degree | целое | Направление ветра в градусах |
| wind_dir | строка | Направление ветра по 16-точечному компасу. Например, NSW |
| pressure_mb | десятичное | Давление в миллибарах |
| pressure_in | десятичное | Давлениевдюймах |
| precip_mm | десятичное | Количество осадков в миллиметрах |
| precip_in | десятичное | Количество осадков в дюймах |
| humidity | целое | Влажность в процентах |
| cloud | целое | Облачность в процентах |
| is_day | целое | 1 = Да 0 = Нет. Показывать значок дневного или ночного состояния |
| uv | десятичное | Индекс ультрафиолетового излучения |
| gust_mph | десятичное | Порывы ветра в милях в час |
| gust_kph | десятичное | Порывы ветра в километрах в час |

 ## API прогноза

Метод API прогноза погоды возвращает, в зависимости от уровня вашего тарифного плана, прогноз погоды на ближайшие 14 дней и погодное оповещение в формате json или xml. Данные возвращаются в виде ForecastObject.

ForecastObject содержит астрономические данные, прогноз погоды на день и информацию о погоде для данного города с почасовым интервалом.

forecastday: Родительский элемент

forecastday -> day: Элемент 'day' внутри forecastday содержит максимальную или минимальную температуру, среднюю температуру

forecastday -> astro

forecastday -> hour

**Элемент forecastday и родительский элемент**

| **Элемент** | **Родительский элемент** |
| --- | --- |
| forecastday -> day | Элемент day содержит:- Максимальную, минимальную и среднюю температуру;- Максимальную скорость ветра;- Общее количество осадков;- Состояние погоды на день. |
| forecastday -> astro | Элемент astro содержит данные о восходе и заходе Солнца, восходе и заходе Луны |
| forecastday -> hour | Элемент hour содержит почасовую информацию о прогнозе погоды |

### Элемент forecastday

**Элемент forecastday**
| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| date | строка | Дата прогноза |
| date_epoch | целое | Дата прогноза в формате времени unix epoch |
| day | элемент | См. элемент day |
| astro | элемент | См. элемент astro |
| hour | элемент | См. элемент hour |

### day Element

**dayElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| maxtemp_c | десятичное | Максимальная температура в градусах Цельсия за день |
| maxtemp_f | десятичное | Максимальная температура в градусах Фаренгейта за день |
| mintemp_c | десятичное | Минимальная температура в градусах Цельсия за день |
| mintemp_f | десятичное | Минимальная температура в градусах Фаренгейта за день |
| avgtemp_c | десятичное | Среднее значение температуры в градусах Цельсия за день |
| avgtemp_f | десятичное | Среднее значение температуры в градусах Фаренгейта за день |
| maxwind_mph | десятичное | Максимальная скорость ветра в милях в час |
| maxwind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| totalprecip_mm | десятичное | Общее количество осадков в миллиметрах |
| totalprecip_in | десятичное | Общее количество осадков в дюймах |
| avgvis_km | десятичное | Среднее значение видимости в километрах |
| avgvis_miles | десятичное | Средняя видимость в милях |
| avghumidity | целое | Средняя влажность в процентах |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок погодного состояния |
| condition:code | целое | Код погодного состояния |
| uv | десятичное | Индекс ультрафиолетового излучения |
| daily_will_it_rain | целое | 1 = Да, 0 = Нет. Будет ли идти дождь или нет. |
| daily_will_it_snow | целое | 1 = Да, 0 = Нет. Будет ли идти снег или нет. |
| daily_chance_of_rain | целое | Вероятность дождя в процентах |
| daily_chance_of_snow | целое | Вероятность выпадения снега в процентах |

### astro Element

**astroElement**
| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| sunrise | строка | Время восхода Солнца |
| sunset | строка | Время заката Солнца |
| moonrise | строка | Время восхода Луны |
| moonset | строка | ВремязаходаЛуны |
| moon_phase | строка | ФазыЛуны. Возвращаемое значение:- Новолуние;- Растущий полумесяц;- Первая четверть;- Растущая Луна;- Полнолуние;- Убывающая Луна;- Последняя четверть;- Убывающий полумесяц. |
| moon_illumination | десятичное | Освещенность Луны в % |

### hour Element

**hourElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| time_epoch | целое | Время в формате nixepoch |
| time | строка | Дата и время |
| temp_c | десятичное | Значение температуры в градусах Цельсия |
| temp_f | десятичное | Значение температуры в градусах Фаренгейта |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок состояния погоды |
| condition:code | целое | Код погодного состояния |
| wind_mph | десятичное | Максимальная скорость ветра в милях в час |
| wind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| wind_degree | целое | Направление ветра в градусах |
| wind_dir | строка | Направление ветра по 16-точечному компасу. Например, NSW |
| pressure_mb | десятичное | Давление в миллибарах |
| pressure_in | десятичное | Давлениевдюймах |
| precip_mm | десятичное | Количество осадков в миллиметрах |
| precip_in | десятичное | Количество осадков в дюймах |
| humidity | целое | Влажность в процентах |
| cloud | целое | Облачность в процентах |
| feelslike_c | десятичное | Чувствуется как температура в градусах Цельсия |
| feelslike_f | десятичное | Чувствуется как температура в градусах Фаренгейта |
| windchill_c | десятичное | Температура ветра в градусах Цельсия |
| windchill_f | десятичное | Температура ветра в градусах Фаренгейта |
| heatindex_c | десятичное | Индекс тепла в градусах Цельсия |
| heatindex_f | десятичное | Индекс тепла в градусах Фаренгейта |
| dewpoint_c | десятичное | Значение точки росы в градусах Цельсия |
| dewpoint_f | десятичное | Значение точки росы в градусах Фаренгейта |
| will_it_rain | целое | 1 = Да, 0 = Нет. Будет идти дождь или нет. |
| will_it_snow | целое | 1 = Да, 0 = Нет. Будет идти снег или нет. |
| is_day | целое | 1 = Да, 0 = Нет. Показывать значок дневного или ночного состояния. |
| vis_km | десятичное | Видимость в километрах |
| vis_miles | десятичное | Видимость в милях |
| chance_of_rain | целое | Вероятность дождя в процентах |
| chance_of_snow | целое | Вероятность снега в процентах |
| gust_mph | десятичное | Порыв ветра в милях в час |
| gust_kph | десятичное | Порыв ветра в километрах в час |
| uv | десятичное | Индекс ультрафиолетового излучения |

## API истории

Метод API истории погоды возвращает, в зависимости от уровня вашего тарифного плана, историческое значение погоды на дату равную или более позднюю чем 1 января 2010 года в формате json или xml. Данные возвращаются в виде ForecastObject.

ForecastObject содержит астрономические данные, прогноз погоды на день и информацию о погоде для данного города с почасовым интервалом.

forecastday: Родительский элемент

forecastday -> day: Элемент «day» внутри forecastday содержит максимальную или минимальную температуру, среднюю температуру

forecastday -> astro

forecastday -> hour

**Элемент forecastday и родительский элемент**

| **Элемент** | **Родительский элемент** |
| --- | --- |
| forecastday -> day | Элемент day содержит:- Максимальную, минимальную и среднюю температуру;- Максимальную скорость ветра;- Общее количество осадков;- Состояние погоды на день. |
| forecastday -> astro | Элемент astro содержит данные о восходе и заходе Солнца, восходе и заходе Луны |
| forecastday -> hour | Элемент hour содержит почасовую информацию о прогнозе погоды |

### Элемент forecastday

**Элемент forecastday**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| date | строка | Дата прогноза |
| date_epoch | целое | Дата прогноза в формате времени unix epoch |
| day | элемент | См. элемент day |
| astro | элемент | См. элемент astro |
| hour | элемент | См. элемент hour |

### day Element

**dayElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| maxtemp_c | десятичное | Максимальная температура в градусах Цельсия за день |
| maxtemp_f | десятичное | Максимальная температура в градусах Фаренгейта за день |
| mintemp_c | десятичное | Минимальная температура в градусах Цельсия за день |
| mintemp_f | десятичное | Минимальная температура в градусах Фаренгейта за день |
| avgtemp_c | десятичное | Среднее значение температуры в градусах Цельсия за день |
| avgtemp_f | десятичное | Среднее значение температуры в градусах Фаренгейта за день |
| maxwind_mph | десятичное | Максимальная скорость ветра в милях в час |
| maxwind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| totalprecip_mm | десятичное | Общее количество осадков в миллиметрах |
| totalprecip_in | десятичное | Общее количество осадков в дюймах |
| avgvis_km | десятичное | Среднее значение видимости в километрах |
| avgvis_miles | десятичное | Средняя видимость в милях |
| avghumidity | целое | Средняя влажность в процентах |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок погодного состояния |
| condition:code | целое | Код погодного состояния |
| uv | десятичное | Индекс ультрафиолетового излучения |

### astro Element

**astroElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| sunrise | строка | Время восхода Солнца |
| sunset | строка | Время заката Солнца |
| moonrise | строка | Время восхода Луны |
| moonset | строка | ВремязаходаЛуны |
| moon_phase | строка | ФазыЛуны. Возвращаемое значение:- Новолуние;- Растущий полумесяц;- Первая четверть;- Растущая Луна;- Полнолуние;- Убывающая Луна;- Последняя четверть;- Убывающий полумесяц |
| moon_illumination | десятичное | Освещенность Луны в % |

### hour Element

**hourElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| time_epoch | целое | Время в формате unixepoch |
| time | строка | Дата и время |
| temp_c | десятичное | Значение температуры в градусах Цельсия |
| temp_f | десятичное | Значение температуры в градусах Фаренгейта |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок состояния погоды |
| condition:code | целое | Код погодного состояния |
| wind_mph | десятичное | Максимальная скорость ветра в милях в час |
| wind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| wind_degree | целое | Направление ветра в градусах |
| wind_dir | строка | Направление ветра по 16-точечному компасу. Например, NSW. |
| pressure_mb | десятичное | Давление в миллибарах |
| pressure_in | десятичное | Давлениевдюймах |
| precip_mm | десятичное | Количество осадков в миллиметрах |
| precip_in | десятичное | Количество осадков в дюймах |
| humidity | целое | Влажность в процентах |
| cloud | целое | Облачность в процентах |
| feelslike_c | десятичное | Чувствуется как температура в градусах Цельсия |
| feelslike_f | десятичное | Чувствуется как температура в градусах Фаренгейта |
| windchill_c | десятичное | Температура ветра в градусах Цельсия |
| windchill_f | десятичное | Температура ветра в градусах Фаренгейта |
| heatindex_c | десятичное | Индекс тепла в градусах Цельсия |
| heatindex_f | десятичное | Индекс тепла в градусах Фаренгейта |
| dewpoint_c | десятичное | Значение точки росы в градусах Цельсия |
| dewpoint_f | десятичное | Значение точки росы в градусах Фаренгейта |
| will_it_rain | целое | 1 = Да, 0 = Нет. Будет идти дождь или нет. |
| will_it_snow | целое | 1 = Да, 0 = Нет. Будет идти снег или нет. |
| is_day | целое | 1 = Да, 0 = Нет. Показывать значок дневного или ночного состояния. |
| vis_km | десятичное | Видимость в километрах |
| vis_miles | десятичное | Видимость в милях |
| chance_of_rain | целое | Вероятность дождя в процентах |
| chance_of_snow | целое | Вероятность снега в процентах |
| gust_mph | десятичное | Порыв ветра в милях в час |
| gust_kph | десятичное | Порыв ветра в километрах в час |
| uv | десятичное | Индекс ультрафиолетового излучения |

## API морской погоды

Метод API морской погоды возвращает прогноз морской и парусной погоды на ближайшие 7 дней (в зависимости от уровня вашего тарифного плана) и данные о приливах и отливах (в зависимости от уровня вашего тарифного плана) в формате json или xml. Данные возвращаются в виде Marineobject.

Marineobject, в зависимости от уровня вашего тарифного плана, содержит астрономические данные, прогноз погоды на день, информацию о погоде с почасовым интервалом и данные о приливах и отливах для данной точки моря/океана.

forecastday: Родительский элемент

forecastday -> day: Элемент day внутри forecastday содержит максимальную или минимальную температуру, среднюю температуру

forecastday -> astro

forecastday -> tide

forecastday -> hour

**Элемент forecastday и родительский элемент**

| **Элемент** | **Родительский элемент** |
| --- | --- |
| forecastday -> day | Элемент day содержит:- Максимальную, минимальную и среднюю температуру;- Максимальную скорость ветра;- Общее количество осадков;- Состояние погоды на день. |
| forecastday -> astro | Элемент astro содержит данные о восходе и заходе Солнца, восходе и заходе Луны |
| forecastday -> tides | Элемент tides содержит данные о приливах и отливах |
| forecastday -> hour | Элемент hour содержит почасовую информацию о прогнозе погоды |

### Элемент forecastday

**Элемент forecastday**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| date | строка | Дата прогноза |
| date_epoch | целое | Дата прогноза в формате времени unix epoch |
| day | элемент | См. элемент day |
| astro | элемент | См. элемент astro |
| tides | элемент | См. элемент tides |
| hour | элемент | См. элемент hour |

### day Element

**dayElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| maxtemp_c | десятичное | Максимальная температура в градусах Цельсия за день |
| maxtemp_f | десятичное | Максимальная температура в градусах Фаренгейта за день |
| mintemp_c | десятичное | Минимальная температура в градусах Цельсия за день |
| mintemp_f | десятичное | Минимальная температура в градусах Фаренгейта за день |
| avgtemp_c | десятичное | Среднее значение температуры в градусах Цельсия за день |
| avgtemp_f | десятичное | Среднее значение температуры в градусах Фаренгейта за день |
| maxwind_mph | десятичное | Максимальная скорость ветра в милях в час |
| maxwind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| totalprecip_mm | десятичное | Общее количество осадков в миллиметрах |
| totalprecip_in | десятичное | Общее количество осадков в дюймах |
| avgvis_km | десятичное | Среднее значение видимости в километрах |
| avgvis_miles | десятичное | Средняя видимость в милях |
| avghumidity | целое | Средняя влажность в процентах |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок погодного состояния |
| condition:code | целое | Код погодного состояния |
| uv | десятичное | Индекс ультрафиолетового излучения |

### astro Element

**astroElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| sunrise | строка | Время восхода Солнца |
| sunset | строка | Время заката Солнца |
| moonrise | строка | Время восхода Луны |
| moonset | строка | ВремязаходаЛуны |
| moon_phase | строка | ФазыЛуны. Возвращаемое значение:- Новолуние;- Растущий полумесяц;- Первая четверть;- Растущая Луна;- Полнолуние;- Убывающая Луна;- Последняя четверть;- Убывающий полумесяц. |
| moon_illumination | десятичное | Освещенность Луны в % |

### tides Element

**tidesElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| tise_time | строка | Время местного прилива |
| tide_height_mt | вещественное | Высота прилива в метрах |
| tide_type | строка | Тип прилива, например высокий или низкий |

### hour Element

**hourElement**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| time_epoch | целое | Время в формате unix epoch |
| time | строка | Дата и время |
| temp_c | десятичное | Значение температуры в градусах Цельсия |
| temp_f | десятичное | Значение температуры в градусах Фаренгейта |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок состояния погоды |
| condition:code | целое | Код погодного состояния |
| wind_mph | десятичное | Максимальная скорость ветра в милях в час |
| wind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| wind_degree | целое | Направление ветра в градусах |
| wind_dir | строка | Направление ветра по 16-точечному компасу. Например, NSW. |
| pressure_mb | десятичное | Давление в миллибарах |
| pressure_in | десятичное | Давлениевдюймах |
| precip_mm | десятичное | Количество осадков в миллиметрах |
| precip_in | десятичное | Количество осадков в дюймах |
| humidity | целое | Влажность в процентах |
| cloud | целое | Облачность в процентах |
| feelslike_c | десятичное | Чувствуется как температура в градусах Цельсия |
| feelslike_f | десятичное | Чувствуется как температура в градусах Фаренгейта |
| windchill_c | десятичное | Температура ветра в градусах Цельсия |
| windchill_f | десятичное | Температура ветра в градусах Фаренгейта |
| heatindex_c | десятичное | Индекс тепла в градусах Цельсия |
| heatindex_f | десятичное | Индекс тепла в градусах Фаренгейта |
| dewpoint_c | десятичное | Значение точки росы в градусах Цельсия |
| dewpoint_f | десятичное | Значение точки росы в градусах Фаренгейта |
| is_day | целое | 1 = Да, 0 = Нет. Показывать значок дневного или ночного состояния. |
| vis_km | десятичное | Видимость в километрах |
| vis_miles | десятичное | Видимость в милях |
| gust_mph | десятичное | Порыв ветра в милях в час |
| gust_kph | десятичное | Порыв ветра в километрах в час |
| sig_ht_mt | десятичное | Значимая высота волны в метрах |
| swell_ht_mt | десятичное | Высота волны в метрах |
| swell_ht_ft | десятичное | Высота волны в футах |
| swell_dir | десятичное | Направление волн в градусах |
| swell_dir_16_point | десятичное | Направление волн по 16-точечному компасу. Например, NSW. |
| swell_period_secs | десятичное | Период волн в секундах |
| water_temp_c | десятичное | Температура воды в градусах Цельсия |
| water_temp_f | десятичное | Температура воды в градусах Фаренгейта |
| uv | десятичное | Индекс ультрафиолетового излучения |

## API погоды будущего

Метод API погоды будущего возвращает прогноз погоды с 3-часовым интервалом для даты от 14 до 300 дней от сегодняшнего дня в будущем.

Forecastobject содержит астрономические данные, прогноз погоды на день и информацию о погоде с почасовым интервалом для данного города.

forecastday: Родительский элемент

forecastday -> day: Элемент day внутри forecastday содержит максимальную или минимальную температуру, среднюю температуру

forecastday -> astro

forecastday -> hour

**Элемент forecastday и родительский элемент для API погоды будущего**

| **Элемент** | **Родительский элемент** |
| --- | --- |
| forecastday -> day | Элемент day содержит:- Максимальную, минимальную и среднюю температуру;- Максимальную скорость ветра;- Общее количество осадков;- Состояние погоды на день. |
| forecastday -> astro | Элемент astro содержит данные о восходе и заходе Солнца, восходе и заходе Луны |
| forecastday -> hour | Элемент hour содержит почасовую информацию о прогнозе погоды |

### Элемент forecastday

**Элемент forecastday для API погоды будущего**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| date | строка | Дата прогноза |
| date_epoch | целое | Дата прогноза в формате времени unix epoch |
| day | элемент | См. элемент day |
| astro | элемент | См. элемент astro |
| hour | элемент | См. элемент hour |

### **day Element**

**dayElement для API погоды будущего**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| maxtemp_c | десятичное | Максимальная температура в градусах Цельсия за день |
| maxtemp_f | десятичное | Максимальная температура в градусах Фаренгейта за день |
| mintemp_c | десятичное | Минимальная температура в градусах Цельсия за день |
| mintemp_f | десятичное | Минимальная температура в градусах Фаренгейта за день |
| avgtemp_c | десятичное | Среднее значение температуры в градусах Цельсия за день |
| avgtemp_f | десятичное | Среднее значение температуры в градусах Фаренгейта за день |
| maxwind_mph | десятичное | Максимальная скорость ветра в милях в час |
| maxwind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| totalprecip_mm | десятичное | Общее количество осадков в миллиметрах |
| totalprecip_in | десятичное | Общее количество осадков в дюймах |
| avgvis_km | десятичное | Среднее значение видимости в километрах |
| avgvis_miles | десятичное | Средняя видимость в милях |
| avghumidity | целое | Средняя влажность в процентах |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок погодного состояния |
| condition:code | целое | Код погодного состояния |
| uv | десятичное | Индекс ультрафиолетового излучения |

### astro Element

**astroElement для API погоды будущего**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| sunrise | строка | Время восхода Солнца |
| sunset | строка | Время заката Солнца |
| moonrise | строка | Время восхода Луны |
| moonset | строка | ВремязаходаЛуны |
| moon_phase | строка | Фазы Луны. Возвращаемое значение:- Новолуние;- Растущий полумесяц;- Первая четверть;- Растущая Луна;- Полнолуние;- Убывающая Луна;- Последняя четверть;- Убывающий полумесяц. |
| moon_illumination | десятичное | Освещенность Луны в % |

### hour Element

**hourElement для API погоды будущего**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| time_epoch | целое | Время в формате unix epoch |
| time | строка | Дата и время |
| temp_c | десятичное | Значение температуры в градусах Цельсия |
| temp_f | десятичное | Значение температуры в градусах Фаренгейта |
| condition:text | строка | Текстсостоянияпогоды |
| condition:icon | строка | Значок состояния погоды |
| condition:code | целое | Код погодного состояния |
| wind_mph | десятичное | Максимальная скорость ветра в милях в час |
| wind_kph | десятичное | Максимальная скорость ветра в километрах в час |
| wind_degree | целое | Направление ветра в градусах |
| wind_dir | строка | Направление ветра по 16-точечному компасу. Например, NSW. |
| pressure_mb | десятичное | Давление в миллибарах |
| pressure_in | десятичное | Давлениевдюймах |
| precip_mm | десятичное | Количество осадков в миллиметрах |
| precip_in | десятичное | Количество осадков в дюймах |
| humidity | целое | Влажность в процентах |
| cloud | целое | Облачность в процентах |
| feelslike_c | десятичное | Чувствуется как температура в градусах Цельсия |
| feelslike_f | десятичное | Чувствуется как температура в градусах Фаренгейта |
| windchill_c | десятичное | Температура ветра в градусах Цельсия |
| windchill_f | десятичное | Температура ветра в градусах Фаренгейта |
| heatindex_c | десятичное | Индекс тепла в градусах Цельсия |
| heatindex_f | десятичное | Индекс тепла в градусах Фаренгейта |
| dewpoint_c | десятичное | Значение точки росы в градусах Цельсия |
| dewpoint_f | десятичное | Значение точки росы в градусах Фаренгейта |
| will_it_rain | целое | 1 = Да, 0 = Нет. Будет идти дождь или нет. |
| will_it_snow | целое | 1 = Да, 0 = Нет. Будет идти снег или нет. |
| is_day | целое | 1 = Да, 0 = Нет. Показывать значок дневного или ночного состояния. |
| vis_km | десятичное | Видимость в километрах |
| vis_miles | десятичное | Видимость в милях |

## API поиска IP

Метод поиска IP позволяет пользователю получить актуальную информацию об IP-адресе в формате json и xml.

**Поля и описание API поиска IP**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| ip | строка | IP-адрес |
| type | строка | ipv4 или ipv6 |
| continent_code | строка | Кодконтинента |
| continent_name | строка | Названиеконтинента |
| country_code | строка | Кодстраны |
| country_name | строка | Названиестраны |
| is_eu | логическое | истина или ложь |
| geoname_id | строка | Идентификатор географического названия |
| city | строка | Название города |
| region | строка | Название региона |
| lat decimal | десятичное | Широта в десятичных градусах |
| lon decimal | десятичное | Долгота в десятичных градусах |
| tz_id | строка | Часовой пояс |

## API астрономии

Метод API астрономии позволяет пользователю получать актуальную информацию о восходе и заходе Солнца, восходе и заходе Луны, фазе Луны и освещенности в формате json и xml.

**Поля и описание API астрономии**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| sunrise | строка | Восход Солнца по местному времени |
| sunset | строка | Закат Солнца по местному времени |
| moonrise | строка | Восход Луны по местному времени |
| moonset | строка | Закат Луны по местному времени |
| moon_phase | строка | ФазаЛуны |
| moon_illumination | целое | ОсвещенностьЛуны |

## API временной зоны

Метод API временной зоны позволяет пользователю получить актуальную информацию о часовом поясе и местном времени в формате json и xml.

**Поля и описание API временной зоны**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| tz_id | строка | Идентификатор часового пояса |
| localtime_epoch | целое | Местное время в формате unix epoch |
| localtime | строка | Местное время в формате yyyy-MM-ddHH:mm |

## Спортивный API

Метод Спортивный API позволяет получить список всех предстоящих спортивных событий по футболу, крикету и гольфу в формате json и xml.

**Поля и описание API временной зоны**

| **Поле** | **Тип данных** | **Описание** |
| --- | --- | --- |
| stadium | строка | Название стадиона |
| country | целое | Страна |
| region | строка | Регион |
| tournament | строка | Название турнира |
| start | строка | Начальная локальная дата и время события в формате yyyy-MM-dd HH:mm |
| match | строка | Название матча |

## Примеры

API WeatherAPI.com очень прост в реализации. Посмотрите на следующие примеры, как можно сформировать запрос для получения данных через веб-браузер или в вашем приложении.

Чтобы получить текущую погоду в Лондоне:
```
JSON: http://api.weatherapi.com/v1/current.json?key=<YOUR_API_KEY>&q=London
XML: http://api.weatherapi.com/v1/current.xml?key=<YOUR_API_KEY>&q=London
```
Чтобы получить погоду на 7 дней для почтового индекса США 07112:
```
JSON: http://api.weatherapi.com/v1/forecast.json?key=<YOUR_API_KEY>&q=07112&days=7
XML: http://api.weatherapi.com/v1/forecast.xml?key=<YOUR_API_KEY>&q=07112&days=7
```
Поиск городов, начинающихся на Lond:
```
JSON: http://api.weatherapi.com/v1/search.json?key=<YOUR_API_KEY>&q=lond
XML: http://api.weatherapi.com/v1/search.xml?key=<YOUR_API_KEY>&q=lond
```

## Интеграция

Используйте наш APIExplorer, чтобы увидеть, как формируется запрос и какой ответ следует ожидать.
```
https://www.weatherapi.com/api-explorer.aspx
```
Для быстрой интеграции у нас также есть SDK для популярных фреймворков и языков, доступные на Github.
```
https://github.com/weatherapicom/
```

# Ресурсы
## Значки и коды погоды

В ответе JSON мы возвращаем condition:code, который является кодом для описания погоды. Например, ясно, солнечно и т. д.

Вы можете получить весь список условий в виде JSON, чтобы реализовать различные значки погоды или применить другую логику в вашем приложении. Список условий также включает многоязычные переводы текста погодных условий:

- Многоязычный URL-адрес списка условий https://www.weatherapi.com/docs/conditions.json
- URL-адрес списка условий на английском языке (CSV) https://www.weatherapi.com/docs/weather_conditions.csv
- URL-адрес списка условий на английском языке (JSON) https://www.weatherapi.com/docs/weather_conditions.json
- URL-адрес списка условий на английском языке (XML) https://www.weatherapi.com/docs/weather_conditions.xml

Пожалуйста, загрузите список и используйте его в автономном режиме вместо того, чтобы напрямую подключать к своему приложению.

### Иконки погоды

Вы также можете бесплатно скачать иконки погоды WeatherAPI.com и использовать их в своем приложении или на сайте.
```
https://cdn.weatherapi.com/weather.zip
```

## Обратная ссылка

Если вы используете наш бесплатный план, мы были бы признательны, если бы вы предоставили обратную ссылку на наш сервис.

Вы можете выбрать любой из приведенных ниже HTML-кодов и разместить его на веб-сайте, который вы предоставили при обновлении бесплатного плана.

### Текст
```
Powered by \<a href="https://www.weatherapi.com/" title="Free Weather API"\>WeatherAPI.com\</a\>
```

### Изображение
```
<a href="https://www.weatherapi.com/" title="Free Weather API"\>\<img src='//cdn.weatherapi.com/v4/images/weatherapi\_logo.png' alt="Weather data by WeatherAPI.com" border="0"\>\</a\>
```