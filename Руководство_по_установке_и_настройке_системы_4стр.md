# Руководство по установке и настройке системы

## Оглавление

<a href="#1">1 Установка системного программного обеспечения</a>

<a href="#11">1.1 Установка OpenJDK Java Runtime Environment 1.8 3</a>

<a href="#12">1.2 Установка Node.js</a>

<a href="#12">1.3 Установка СУБД PostgreSQL</a>

<a href="#12">1.3.1 Создание отдельных баз данных PostgreSQL</a>

<a href="#12">1.3.2 Порядок установки СУБД PostgreSQL</a>

<a href="#12">1.2.3 Создание роли и баз данных</a>


## Перечень принятых сокращений и обозначений

| **Сокращения** | **Определения** |
| --- | --- |
| БД | База данных |
| ХД | Хранилище данных |
| BI | Business Intelligence – инструмент делового анализа |
| CSV | Comma Separated Value (значения, разделенные запятой) – компактный текстовый формат обмена данными. |
| DBeaver | Универсальный инструмент для работы с базами данных. |
| JSON | Java Script Object Notation (нотация объектов языка Java Script) – компактный читаемый человеком, самодокументируемый формат обмена данными. |
| OLAP | On-lineAnalyticalProcessing – аналитическая обработка в реальном времени. |
| XML | eXtendedMarkupLanguage (расширенный язык разметки) – самодокументируемый иерархический формат хранения и обмена данными и метаданными |

<a id="1"></a>
# 1. Установка системного программного обеспечения

Для работы хранилища данных «AmazonDW», портала «AmazonBIPortal» и дополнительных модулей требуется установить ПО из репозитория программ для ОС CentOS 7:

- OpenJDK Java Runtime Environment 1.8 – библиотека, исполняющая язык Java;
- Node.js 14.21.3 – серверная платформа, исполняющий JavaScript программы;
- PostgreSQL 13 – СУБД PostgreSQL.

<a id="11"></a>
## 1.1 Установка OpenJDK Java Runtime Environment 1.8

Для установки OpenJDK Java Runtime Environment 1.8 выполните:

Шаг 1. Загрузить новые версии пакетов:
```
sudoyumupdate
```
Шаг 2. Установить пакет yum:
```
sudo yum install default-jdk
```

<a id="12"></a>
##  1.2 Установка Node.j

Для установки сервера Node.js выполните:

Шаг 1. Установите программу curl если ее нет на сервере. Программа требуется для скачивания файлов из репозитория свободно распространяемого ПО:
```
sudo yum -y install curl
```
Шаг 2. Получите с сайта nodesource.com скрипт для установки rpm-пакета Node.js версии 14.21.3 и запустите его:
```
curl -sL https://rpm.nodesource.com/setup\_14.21.3 | sudo bash -
```

<a id="13"></a>
## 1.3 Установка СУБД PostgreSQL
<a id="131"></a>
### 1.3.1 Создание отдельных баз данных PostgreSQL

Создайте отдельные БД для хранилища данных «Amazon» и «Amazonbook's» (см. таблицу 1).

**Таблица 1 - Базы данных**

| **Модуль** | **Наименование базы данных** |
| --- | --- |
| Хранилище данных Amazon | amaz |
| Хранилище данных Amazon book's | amaz\_book |

<a id="132"></a>
### 1.3.2 Порядок установки СУБД PostgreSQL
Для установки СУБД PostgreSQL выполните следующие действия:

Шаг 1. Обновите список пакетов:
```
sudoyumupdate && sudoyumupgrade
```
Шаг 2. Установите пакет PostgreSQL:
```
sudoyuminstallpostgresqlpostgresql-contrib
```
Шаг 3. После завершения установки проверьте статус соответствующей службы с помощью команды:
```
sudo systemctl status postgresql-13
```
Шаг 4. Если служба не запустилась автоматически, вы можете запустить её вручную, выполнив команду:
```
sudo systemctl start postgresql-13
```
Шаг 5. Для остановки работающей службы выполните команду:
```
sudo systemctl stop postgresql-13
```

<a id="133"></a>
### 1.3.3 Создание роли и баз данных
Для создания роли и баз данных PostgreSQL выполните следующие действия:

Шаг 1. Создайте новую роль:
```
sudosu - postgres -c "createuseramazondw"
```
Шаг 2. Создайте новые базы данных:

Шаг 2.1. Создайте БД cont\_cis:
```
sudo su - postgres -c "createdb amaz"
```
Шаг 2.2. Создайте БД cis\_microsim:
```
sudo su - postgres -c "createdb amaz\_book"
```
Шаг 3. Для предоставления пользователю права доступа к базам данных, подключитесь к оболочке:
```
sudo -u postgres psql
```
Шаг 4. Выполните запрос для предоставления пользователю amazdw привилегии для управления базами данных:

Шаг 4.1. ДляБД amaz:
```
GRANT ALL PRIVILEGES ON DATABASE amaz TO amazdw
```
Шаг 4.2. Для БД amaz\_book:
```
GRANT ALL PRIVILEGES ON DATABASE amaz\_book TO amazdw
```
